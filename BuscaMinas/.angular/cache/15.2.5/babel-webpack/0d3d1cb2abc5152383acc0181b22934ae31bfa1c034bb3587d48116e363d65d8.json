{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/Cell\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction BoardComponent_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mode_r2 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", mode_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(mode_r2);\n  }\n}\nfunction BoardComponent_tr_11_td_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 13);\n  }\n}\nfunction BoardComponent_tr_11_td_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cell_r6.mineProximity, \" \");\n  }\n}\nfunction BoardComponent_tr_11_td_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 16);\n    i0.ɵɵelement(2, \"path\", 17);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BoardComponent_tr_11_td_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 18)(2, \"title\");\n    i0.ɵɵtext(3, \"flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"path\", 19);\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"closedCell\": a0\n  };\n};\nfunction BoardComponent_tr_11_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 8);\n    i0.ɵɵlistener(\"click\", function BoardComponent_tr_11_td_1_Template_td_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const x_r7 = restoredCtx.index;\n      const y_r4 = i0.ɵɵnextContext().index;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.checkCell(y_r4, x_r7));\n    })(\"contextmenu\", function BoardComponent_tr_11_td_1_Template_td_contextmenu_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const cell_r6 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.flag(cell_r6));\n    });\n    i0.ɵɵtemplate(1, BoardComponent_tr_11_td_1_div_1_Template, 1, 0, \"div\", 9);\n    i0.ɵɵtemplate(2, BoardComponent_tr_11_td_1_div_2_Template, 2, 1, \"div\", 10);\n    i0.ɵɵtemplate(3, BoardComponent_tr_11_td_1_div_3_Template, 3, 0, \"div\", 11);\n    i0.ɵɵtemplate(4, BoardComponent_tr_11_td_1_div_4_Template, 5, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, cell_r6.status != \"open\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"NGIf\", cell_r6.status == \"ToOpen\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cell_r6.status == \"open\" && cell_r6.mineProximity != 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cell_r6.status == \"mine\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cell_r6.status == \"flag\");\n  }\n}\nfunction BoardComponent_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, BoardComponent_tr_11_td_1_Template, 5, 7, \"td\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rows_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", rows_r3);\n  }\n}\nexport class BoardComponent {\n  constructor(cellService) {\n    this.cellService = cellService;\n    this.board = [];\n    this.rows = 5;\n    this.columns = 5;\n    this.numberOfMines = this.numberOfFlags = 0;\n    this.difficulty = \"Alevin\";\n    this.cellsGame = {\n      cellsOpened: 0,\n      cells: this.rows * this.columns,\n      numberMines: this.numberOfMines\n    };\n    this.changeDifficulty();\n  }\n  checkCell(row, column) {\n    let PnumberOfFlags = {\n      flags: 0\n    };\n    if (this.board[row][column].status != 'flag') {\n      this.cellService.openCasilla(this.board, row, column, this.rows, this.columns, this.cellsGame, PnumberOfFlags);\n      this.numberOfFlags += PnumberOfFlags.flags;\n      this.cellService.checkCasilla(this.board, row, column, this.cellsGame, this.numberOfMines);\n    }\n  }\n  flag(cell) {\n    this.cellService.flag(cell);\n    if (cell.status == 'ToOpen') {\n      this.numberOfFlags++;\n    } else if (cell.status == 'flag') {\n      this.numberOfFlags--;\n    }\n    return false;\n  }\n  reset() {\n    this.board = this.cellService.buildBoard(this.rows, this.columns, this.numberOfMines);\n    this.cellsGame = {\n      cellsOpened: 0,\n      cells: this.rows * this.columns,\n      numberMines: this.numberOfMines\n    };\n    this.numberOfFlags = this.numberOfMines;\n  }\n  getDifficultys() {\n    return this.cellService.getDifficultys();\n  }\n  changeDifficulty() {\n    let changes = this.cellService.changeDifficulty(this.difficulty);\n    this.rows = changes[0];\n    this.columns = changes[1];\n    this.numberOfMines = this.numberOfFlags = changes[2];\n    this.reset();\n  }\n}\nBoardComponent.ɵfac = function BoardComponent_Factory(t) {\n  return new (t || BoardComponent)(i0.ɵɵdirectiveInject(i1.CasillaService));\n};\nBoardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BoardComponent,\n  selectors: [[\"app-board\"]],\n  decls: 15,\n  vars: 5,\n  consts: [[1, \"et\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"Game\"], [4, \"ngFor\", \"ngForOf\"], [1, \"reset\"], [3, \"click\"], [3, \"value\"], [3, \"ngClass\", \"click\", \"contextmenu\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\", \"click\", \"contextmenu\"], [\"class\", \"celdas = 0\", 4, \"NGIf\"], [\"class\", \"celdas\", 4, \"ngIf\"], [\"class\", \"mine\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"celdas\", \"=\", \"0\"], [1, \"celdas\"], [1, \"mine\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"1em\", \"height\", \"1em\", \"viewBox\", \"0 0 24 24\"], [\"fill\", \"#cb2a2a\", \"d\", \"M23 13v-2h-3.07a8 8 0 0 0-1.62-3.9l2.19-2.17l-1.43-1.43l-2.17 2.19A8 8 0 0 0 13 4.07V1h-2v3.07c-1.42.18-2.77.74-3.9 1.62L4.93 3.5L3.5 4.93L5.69 7.1A8 8 0 0 0 4.07 11H1v2h3.07c.18 1.42.74 2.77 1.62 3.9L3.5 19.07l1.43 1.43l2.17-2.19c1.13.88 2.48 1.44 3.9 1.62V23h2v-3.07c1.42-.18 2.77-.74 3.9-1.62l2.17 2.19l1.43-1.43l-2.19-2.17a8 8 0 0 0 1.62-3.9zM12 8a4 4 0 0 0-4 4H6a6 6 0 0 1 6-6z\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 24 24\"], [\"d\", \"M14.4,6L14,4H5V21H7V14H12.6L13,16H20V6H14.4Z\"]],\n  template: function BoardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"Escoge la dificultad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"select\", 0);\n      i0.ɵɵlistener(\"change\", function BoardComponent_Template_select_change_2_listener() {\n        return ctx.changeDifficulty();\n      })(\"ngModelChange\", function BoardComponent_Template_select_ngModelChange_2_listener($event) {\n        return ctx.difficulty = $event;\n      });\n      i0.ɵɵtemplate(3, BoardComponent_option_3_Template, 2, 2, \"option\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"br\");\n      i0.ɵɵelementStart(5, \"p\");\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\");\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\")(10, \"table\", 2);\n      i0.ɵɵtemplate(11, BoardComponent_tr_11_Template, 2, 1, \"tr\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 4)(13, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function BoardComponent_Template_button_click_13_listener() {\n        return ctx.reset();\n      });\n      i0.ɵɵtext(14, \"Reset\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.difficulty);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.getDifficultys());\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Numero de minas: \", ctx.numberOfMines, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Numero de banderas: \", ctx.numberOfFlags, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.board);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\".Game[_ngcontent-%COMP%]{\\n    border: 2px solid black;\\n    border-collapse: collapse;\\n    text-align: center;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\ntd[_ngcontent-%COMP%]{\\n    border: 1.5px solid black;\\n    border-collapse: collapse;\\n    width: 30px;\\n    height: 30px;\\n}\\n\\n.celdas[_ngcontent-%COMP%], .mine[_ngcontent-%COMP%], .reset[_ngcontent-%COMP%], .Win[_ngcontent-%COMP%], .Lose[_ngcontent-%COMP%]{\\n    text-align: center;\\n}\\n.mine[_ngcontent-%COMP%]{\\n    background-color: red;\\n}\\n\\n.flag[_ngcontent-%COMP%]{\\n    width: 20px;\\n    height: 20px;\\n    text-align: center;\\n    margin-left: auto;\\n    margin-right: auto;\\n\\n    margin-bottom: 20px;\\n}\\n\\n.closedCell[_ngcontent-%COMP%]{\\n    background-color: white;\\n    letter-spacing: 2px;\\n}\\n\\n.reset[_ngcontent-%COMP%]{\\n    margin-bottom: 40px;\\n    text-align: center;\\n}\\n\\n.et[_ngcontent-%COMP%]{\\n    margin-bottom: 10px;\\n}\\n\\n.celdas[_ngcontent-%COMP%]{\\n    font-style: unset;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYm9hcmQvYm9hcmQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHVCQUF1QjtJQUN2Qix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsa0JBQWtCOztJQUVsQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGlCQUFpQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5HYW1le1xuICAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrO1xuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxudGR7XG4gICAgYm9yZGVyOiAxLjVweCBzb2xpZCBibGFjaztcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgIHdpZHRoOiAzMHB4O1xuICAgIGhlaWdodDogMzBweDtcbn1cblxuLmNlbGRhcywgLm1pbmUsIC5yZXNldCwgLldpbiwgLkxvc2V7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLm1pbmV7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xufVxuXG4uZmxhZ3tcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcblxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5jbG9zZWRDZWxse1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGxldHRlci1zcGFjaW5nOiAycHg7XG59XG5cbi5yZXNldHtcbiAgICBtYXJnaW4tYm90dG9tOiA0MHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmV0e1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi5jZWxkYXN7XG4gICAgZm9udC1zdHlsZTogdW5zZXQ7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAGIA,iCAAoE;IAAAA,YAAQ;IAAAA,iBAAS;;;;IAAlCA,0CAAgB;IAACA,eAAQ;IAARA,6BAAQ;;;;;IAcpEA,0BAGU;;;;;IACNA,+BAGC;IACGA,YAEJ;IAAAA,iBAAM;;;;IAFFA,eAEJ;IAFIA,sDAEJ;;;;;IAEAA,+BAEC;IACGA,mBAGC;IAHDA,+BAGC;IACGA,2BAEoY;IACxYA,iBAAM;;;;;IAIVA,2BAC8B;IAC1BA,mBAA4D;IAA5DA,+BAA4D;IAAOA,oBAAI;IAAAA,iBAAQ;IAAAA,2BAAyD;IAAAA,iBAAM;;;;;;;;;;;IAjCtJA,6BAIC;IAHDA;MAAA;MAAA;MAAA;MAAA;MAAA,OAASA,4CAAe;IAAA,EAAC;MAAA;MAAA;MAAA;MAAA,OACVA,oCAAU;IAAA,EADA;IAIzBA,0EAGU;IACNA,2EAMM;IAENA,2EAWM;IAGNA,2EAGM;IACVA,iBAAK;;;;IAhCLA,8EAAiD;IAG9CA,eAA6B;IAA7BA,iDAA6B;IAI3BA,eAAqD;IAArDA,6EAAqD;IAOhDA,eAA2B;IAA3BA,+CAA2B;IAehCA,eAA2B;IAA3BA,+CAA2B;;;;;IAjCpCA,0BAA4C;IACxCA,mEAmCK;IACTA,iBAAK;;;;IApCoBA,eAAS;IAATA,iCAAS;;;ACF1C,OAAM,MAAOC,cAAc;EAYzBC,YAAoBC,WAA2B;IAA3B,gBAAW,GAAXA,WAAW;IAV/B,UAAK,GAAgB,EAAE;IAWrB,IAAI,CAACC,IAAI,GAAE,CAAC;IACZ,IAAI,CAACC,OAAO,GAAG,CAAC;IAChB,IAAI,CAACC,aAAa,GAAG,IAAI,CAACC,aAAa,GAAG,CAAC;IAC3C,IAAI,CAACC,UAAU,GAAG,QAAQ;IAC1B,IAAI,CAACC,SAAS,GAAG;MAACC,WAAW,EAAE,CAAC;MAAEC,KAAK,EAAE,IAAI,CAACP,IAAI,GAAG,IAAI,CAACC,OAAO;MAAEO,WAAW,EAAE,IAAI,CAACN;IAAa,CAAC;IACnG,IAAI,CAACO,gBAAgB,EAAE;EACzB;EAGAC,SAAS,CAACC,GAAW,EAAEC,MAAc;IACnC,IAAIC,cAAc,GAAQ;MAACC,KAAK,EAAE;IAAC,CAAC;IACpC,IAAG,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC,CAACC,MAAM,CAAC,CAACI,MAAM,IAAI,MAAM,EAAC;MAC1C,IAAI,CAACjB,WAAW,CAACkB,WAAW,CAAC,IAAI,CAACF,KAAK,EAAEJ,GAAG,EAAEC,MAAM,EAAE,IAAI,CAACZ,IAAI,EAAE,IAAI,CAACC,OAAO,EAAE,IAAI,CAACI,SAAS,EAAEQ,cAAc,CAAC;MAC9G,IAAI,CAACV,aAAa,IAAIU,cAAc,CAACC,KAAK;MAC1C,IAAI,CAACf,WAAW,CAACmB,YAAY,CAAC,IAAI,CAACH,KAAK,EAAEJ,GAAG,EAAEC,MAAM,EAAE,IAAI,CAACP,SAAS,EAAE,IAAI,CAACH,aAAa,CAAC;;EAE9F;EAEAiB,IAAI,CAACC,IAAa;IAChB,IAAI,CAACrB,WAAW,CAACoB,IAAI,CAACC,IAAI,CAAC;IAE3B,IAAGA,IAAI,CAACJ,MAAM,IAAI,QAAQ,EAAC;MACzB,IAAI,CAACb,aAAa,EAAE;KACrB,MACI,IAAGiB,IAAI,CAACJ,MAAM,IAAI,MAAM,EAAC;MAC5B,IAAI,CAACb,aAAa,EAAE;;IAItB,OAAO,KAAK;EACd;EAGAkB,KAAK;IACH,IAAI,CAACN,KAAK,GAAG,IAAI,CAAChB,WAAW,CAACuB,UAAU,CAAC,IAAI,CAACtB,IAAI,EAAE,IAAI,CAACC,OAAO,EAAE,IAAI,CAACC,aAAa,CAAC;IACrF,IAAI,CAACG,SAAS,GAAG;MAACC,WAAW,EAAE,CAAC;MAAEC,KAAK,EAAE,IAAI,CAACP,IAAI,GAAG,IAAI,CAACC,OAAO;MAAEO,WAAW,EAAE,IAAI,CAACN;IAAa,CAAC;IACnG,IAAI,CAACC,aAAa,GAAG,IAAI,CAACD,aAAa;EACzC;EAEAqB,cAAc;IACZ,OAAO,IAAI,CAACxB,WAAW,CAACwB,cAAc,EAAE;EAC1C;EAGAd,gBAAgB;IACd,IAAIe,OAAO,GAA6B,IAAI,CAACzB,WAAW,CAACU,gBAAgB,CAAC,IAAI,CAACL,UAAU,CAAC;IAC1F,IAAI,CAACJ,IAAI,GAAGwB,OAAO,CAAC,CAAC,CAAC;IACtB,IAAI,CAACvB,OAAO,GAAGuB,OAAO,CAAC,CAAC,CAAC;IACzB,IAAI,CAACtB,aAAa,GAAG,IAAI,CAACC,aAAa,GAAGqB,OAAO,CAAC,CAAC,CAAC;IACpD,IAAI,CAACH,KAAK,EAAE;EACd;;AA/DWxB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT3BjC,yBAAG;MAAAA,oCAAoB;MAAAA,iBAAI;MAC3BA,iCAA0E;MAAlEA;QAAA,OAAUkC,sBAAkB;MAAA,EAAC;QAAA;MAAA;MACjClC,qEAAqF;MACzFA,iBAAS;MACTA,qBAAI;MAEJA,yBAAG;MAAAA,YAAkC;MAAAA,iBAAI;MACzCA,yBAAG;MAAAA,YAAqC;MAAAA,iBAAI;MAC5CA,2BAAK;MAEGA,+DAqCK;MACTA,iBAAQ;MAKZA,+BAAmB;MACPA;QAAA,OAASkC,WAAO;MAAA,EAAC;MAAClC,sBAAK;MAAAA,iBAAS;;;MArDNA,eAAwB;MAAxBA,wCAAwB;MACjCA,eAAwB;MAAxBA,8CAAwB;MAIlDA,eAAkC;MAAlCA,iEAAkC;MAClCA,eAAqC;MAArCA,oEAAqC;MAGXA,eAAU;MAAVA,mCAAU","names":["i0","BoardComponent","constructor","cellService","rows","columns","numberOfMines","numberOfFlags","difficulty","cellsGame","cellsOpened","cells","numberMines","changeDifficulty","checkCell","row","column","PnumberOfFlags","flags","board","status","openCasilla","checkCasilla","flag","cell","reset","buildBoard","getDifficultys","changes","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\JUAN PABLO\\Desktop\\BuscaminasJP\\BuscaMinas\\src\\app\\board\\board.component.html","C:\\Users\\JUAN PABLO\\Desktop\\BuscaminasJP\\BuscaMinas\\src\\app\\board\\board.component.ts"],"sourcesContent":["\n<p>Escoge la dificultad</p>\n<select (change)=\"changeDifficulty()\" [(ngModel)]=\"difficulty\" class=\"et\">\n    <option *ngFor=\"let mode of this.getDifficultys()\" value=\"{{mode}}\">{{mode}}</option>\n</select>\n<br>\n\n<p>Numero de minas: {{numberOfMines}}</p>\n<p>Numero de banderas: {{numberOfFlags}}</p>\n<div>\n    <table class=\"Game\">\n        <tr *ngFor=\"let rows of board; index as y;\">\n            <td *ngFor=\"let cell of rows; index as x;\" \n            (click)=\"checkCell(y, x)\" \n            (contextmenu)=\"flag(cell)\" \n            [ngClass]=\"{'closedCell': cell.status != 'open'}\"\n            >\n            <div\n              *NGIf=\"cell.status == 'ToOpen'\"\n                class = \"celdas = 0\"    >\n                </div>\n                <div \n                *ngIf=\"cell.status =='open' && cell.mineProximity != 0\" \n                class=\"celdas\"\n                >\n                    {{cell.mineProximity}}\n\n                </div>\n\n                <div *ngIf=\"cell.status == 'mine'\"  \n                class=\"mine\"\n                >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"1em\" height=\"1em\" \n                    viewBox=\"0 0 24 24\"\n                    >\n                        <path \n                        fill=\"#cb2a2a\" \n                        d=\"M23 13v-2h-3.07a8 8 0 0 0-1.62-3.9l2.19-2.17l-1.43-1.43l-2.17 2.19A8 8 0 0 0 13 4.07V1h-2v3.07c-1.42.18-2.77.74-3.9 1.62L4.93 3.5L3.5 4.93L5.69 7.1A8 8 0 0 0 4.07 11H1v2h3.07c.18 1.42.74 2.77 1.62 3.9L3.5 19.07l1.43 1.43l2.17-2.19c1.13.88 2.48 1.44 3.9 1.62V23h2v-3.07c1.42-.18 2.77-.74 3.9-1.62l2.17 2.19l1.43-1.43l-2.19-2.17a8 8 0 0 0 1.62-3.9zM12 8a4 4 0 0 0-4 4H6a6 6 0 0 1 6-6z\"/>\n                    </svg>\n                </div>\n\n\n                <div \n                *ngIf=\"cell.status == 'flag'\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><title>flag</title><path d=\"M14.4,6L14,4H5V21H7V14H12.6L13,16H20V6H14.4Z\" /></svg>\n                </div>\n            </td>\n        </tr>\n    </table>\n</div>\n\n\n\n<div class=\"reset\">\n    <button (click)=\"reset()\">Reset</button>\n</div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<!-- <div class=\"flag\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><title>flag</title><path d=\"M14.4,6L14,4H5V21H7V14H12.6L13,16H20V6H14.4Z\" /></svg>\n    {{ numberOfFlags }} \n</div> -->\n\n\n\n<!-- <div class=\"Win\">\n    <h3 *ngIf=\"gameState == 2\" >Felicidades. Ganaste!!!</h3>\n</div>\n\n<div class=\"Lose\">\n    <h3 *ngIf=\"gameState == 0\" >Perdiste. Vuelve a Intentarlo</h3>\n</div> -->","import { Component } from '@angular/core';\nimport { Casilla } from '../models/Cell';\nimport { CasillaService } from '../services/Cell';\n\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.css']\n})\nexport class BoardComponent {\n  \n  board: Casilla[][] = [];\n\n  rows: number;\n  columns: number;\n  numberOfMines: number;\n  cellsGame: any;\n  difficulty: string;\n  numberOfFlags: number;\n  \n\n  constructor(private cellService: CasillaService){\n    this.rows= 5;\n    this.columns = 5;\n    this.numberOfMines = this.numberOfFlags = 0;\n    this.difficulty = \"Alevin\"\n    this.cellsGame = {cellsOpened: 0, cells: this.rows * this.columns, numberMines: this.numberOfMines};\n    this.changeDifficulty();\n  }\n\n\n  checkCell(row: number, column: number){\n    let PnumberOfFlags: any = {flags: 0};\n    if(this.board[row][column].status != 'flag'){\n      this.cellService.openCasilla(this.board, row, column, this.rows, this.columns, this.cellsGame, PnumberOfFlags);\n      this.numberOfFlags += PnumberOfFlags.flags;\n      this.cellService.checkCasilla(this.board, row, column, this.cellsGame, this.numberOfMines);\n    }\n  }\n\n  flag(cell: Casilla){\n    this.cellService.flag(cell);\n\n    if(cell.status == 'ToOpen'){\n      this.numberOfFlags++;\n    }\n    else if(cell.status == 'flag'){\n      this.numberOfFlags--;\n    }\n\n    \n    return false;\n  }\n\n\n  reset(){\n    this.board = this.cellService.buildBoard(this.rows, this.columns, this.numberOfMines);\n    this.cellsGame = {cellsOpened: 0, cells: this.rows * this.columns, numberMines: this.numberOfMines};\n    this.numberOfFlags = this.numberOfMines;\n  }\n\n  getDifficultys() : string[]{\n    return this.cellService.getDifficultys();\n  }\n\n\n  changeDifficulty(){\n    let changes: [number, number, number] = this.cellService.changeDifficulty(this.difficulty);\n    this.rows = changes[0];\n    this.columns = changes[1];\n    this.numberOfMines = this.numberOfFlags = changes[2]; \n    this.reset();\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}